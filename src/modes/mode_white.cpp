// =============================================================================
// Arduino-LED-Strip-Controller | Mode-White
// =============================================================================

#include "strip_modes.h"
#include "hardware.h"

namespace
{
    uint8_t arrayRed[111] =
    {
        255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
        255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
        255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
        255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
        254, 252, 249, 247, 245, 243, 240, 239, 237, 235, 233, 231, 230, 228,
        227, 225, 224, 222, 221, 220, 218, 217, 216, 215, 214, 212, 211, 210,
        209, 208, 207, 207, 206, 205, 207, 207, 206, 205, 204, 204, 203, 202,
        202, 201, 200, 200, 199, 148, 148, 148, 148, 40, 40, 40, 40
    };

    uint8_t arrayGreen[111] =
    {
        56, 71, 83, 93, 101, 109, 115, 121, 126, 131, 138, 142, 147, 152, 157,
        161, 165, 169, 173, 177, 180, 184, 187, 190, 193, 196, 199, 201, 204,
        206, 209, 211, 213, 215, 217, 219, 221, 223, 225, 227, 228, 230, 232,
        233, 235, 236, 238, 239, 240, 242, 243, 244, 245, 246, 248, 249, 249,
        247, 246, 245, 243, 242, 241, 240, 239, 238, 237, 236, 235, 234, 233,
        232, 231, 230, 230, 229, 229, 227, 227, 226, 225, 225, 224, 223, 223,
        222, 221, 221, 220, 220, 219, 218, 217, 217, 216, 216, 215, 215, 214,
        214, 213, 213, 212, 186, 186, 186, 186, 77, 77, 77, 77
    };

    uint8_t arrayBlue[111] =
    {
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 18, 33, 44, 54, 63, 72, 79, 87, 94, 101,
        107, 114, 120, 126, 132, 137, 143, 148, 153, 159, 163, 168, 173, 177,
        182, 186, 190, 194, 198, 202, 206, 210, 213, 217, 220, 224, 227, 230,
        233, 236, 239, 242, 245, 247, 251, 253, 255, 255, 255, 255, 255, 255,
        255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
        255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
        255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
        255, 255, 255, 143, 143, 143, 143
    };
}


void Mode::white(uint16_t functionValue)
{
    const uint8_t whiteIndex = map(functionValue, 0, 1023, 0, 110);
    const uint32_t outputColor = Hardware::strip.Color(arrayRed[whiteIndex],
                                                       arrayGreen[whiteIndex],
                                                       arrayBlue[whiteIndex]);

    for (uint8_t i = 0; i < NUM_LIGHTS; i++)
    {
        Hardware::strip.setPixelColor(i, outputColor);
        Hardware::strip.show();
    }
}
